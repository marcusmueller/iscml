== PCS Speed Profiling ==

The purpose of the scripts in this hierarchy are to profile the speed of executing
CML simulations using the cluster and compare to standalone and plot the results
as figures.

The metric computed for both cluster and standalone execution is CML trials as
a function of time.

For a complete example of speed profiler usage, see section 
"Execution and Plotting Demo".

Complete descriptions of script operations can be found by
inspecting the headers and script implementations.



= Running Speed Profiling Simulations =

The script
  sp

executes and stops speed profiling simulations.

The syntax of sp is
sp <action> <scenario> <record>
where
<action> indicates whether to run or stop speed profiling.
<scenario> is a CML scenario file
<record> specifies the record to simulate within the scenario.


After completion, a MATLAB figure of type .fig is placed in
/home/pcs/util/sp/output

with naming convention
<scenario>_<record>.fig

containing the results of speed profiling, which is a plot
of trials computed as a function of time for both
cluster and standalone simulation.




= Example 1 - profile uncoded BPSK in Rayleigh Fading:

> sp run SpeedProfile 2

executes the simulation specified by CML scenario SpeedProfile,
record 2 - uncoded BPSK in Rayleigh fading.


= Example 2 start a profiling simulation and stop before completion.
> sp run SpeedProfile 2
> sp stop SpeedProfile 2

executes a speed profiling job and stops prior to completion.
In this case, no results are generated.




= Plotting the Results of Speed Profiling =

Specific results generated by the sp script are denoted as experiments.
Plotting an experiment is performed by creating a .m script describing
the experimental parameters in

/home/pcs/util/sp/expr

Experiment scripts call a specialized plotting script to annotate
and format the profiling plot and export it as an .eps file.

For an example of use, see 

/home/pcs/util/sp/expr/expr_sp2.m




= Execution and Plotting Demo =

= Execute simulation of uncoded BPSK to minimum BER 1e-7.

1. Execute simulations.
   > /home/pcs/util/sp/sp run SpeedProfile 2

 * wait for completion *

2. Plot results and export in .eps format.

  > matlab
  >> cd /home/pcs/util/sp/expr/
  >> expr_sp2


3. Observe generated EPS figures.

  Two eps files will be placed in
    /home/pcs/util/sp/output

   SpeedProfile_2_1.eps
   SpeedProfile_2_2.eps

   Download these files locally and open to observe results.
